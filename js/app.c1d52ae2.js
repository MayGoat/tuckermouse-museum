(function(){"use strict";var t={2222:function(t,e,a){var n=a(9242),i=a(3396);function r(t,e,a,n,r,l){const s=(0,i.up)("HelloWorld");return(0,i.wg)(),(0,i.j4)(s,{msg:"Welcome to Your Vue.js App"})}var l=a(7139);const s={class:"content-wrapper"},o=(0,i._)("div",{class:"hero-body is-small"},[(0,i._)("p",{class:"title"},"塔克鼠美术馆")],-1),c=(0,i._)("h1",null,null,-1),u={class:"field has-addons column is-two-thirds is-offset-1 mb-1"},d={class:"control"},g={class:"select"},h=(0,i._)("option",{value:""},"时间",-1),p=["value"],f={class:"control"},m={class:"select"},v=(0,i._)("option",{value:""},"艺术家",-1),y=["value"],w={class:"control"},b={class:"control"},P={key:0,class:"has-text-grey column mt-1 mb-2"},_={key:1,class:"columns is-multiline is-variable is-6"},k={class:"card"},D={class:"card-image"},x={class:"image"},O=["href","data-caption"],C=["src","alt"],M={class:"content align-bottom"},S={class:"subtitle is-6"},T={key:2},U={key:3,class:"pagination is-rounded column is-half is-offset-one-quarter",role:"navigation","aria-label":"pagination"},j={class:"pagination-list"},Y={key:0},A=(0,i._)("span",{class:"pagination-ellipsis"},"…",-1),q=[A],z=["onClick","aria-label"],E={key:1},K=(0,i._)("span",{class:"pagination-ellipsis"},"…",-1),H=[K],L={key:2},V=["aria-label"];function G(t,e,a,r,A,K){return(0,i.wg)(),(0,i.iD)("div",s,[o,c,(0,i._)("div",u,[(0,i._)("div",d,[(0,i._)("div",g,[(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>A.selectedYear=t)},[h,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(A.yearOptions,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t,value:t},(0,l.zw)(t)+"年",9,p)))),128))],512),[[n.bM,A.selectedYear]])])]),(0,i._)("div",f,[(0,i._)("div",m,[(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>A.selectedArtist=t)},[v,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.artistOptions,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t,value:t},(0,l.zw)(t),9,y)))),128))],512),[[n.bM,A.selectedArtist]])])]),(0,i._)("div",w,[(0,i.wy)((0,i._)("input",{class:"input",type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>A.searchText=t),onKeyup:e[3]||(e[3]=(0,n.D2)(((...t)=>K.handleEnter&&K.handleEnter(...t)),["enter"])),placeholder:"作品关键词"},null,544),[[n.nr,A.searchText]])]),(0,i._)("div",b,[(0,i._)("button",{class:"button is-info",onClick:e[4]||(e[4]=(...t)=>K.filterData&&K.filterData(...t))},"搜索")])]),A.dataLoaded&&A.dataContent.length>0?((0,i.wg)(),(0,i.iD)("div",P," 找到 "+(0,l.zw)(A.dataContent.length)+" 件艺术品 ",1)):(0,i.kq)("",!0),A.dataLoaded?((0,i.wg)(),(0,i.iD)("div",_,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(K.paginatedData,(t=>((0,i.wg)(),(0,i.iD)("div",{key:t.catNo,class:"column is-6-mobile is-4-tablet is-3-desktop"},[(0,i._)("div",k,[(0,i._)("div",D,[(0,i._)("figure",x,[(0,i._)("a",{href:t.bigImageUrl,"data-fancybox":"gallery","data-caption":t.title+"<br>"+t.dimension+"<br>"+t.location},[t.imageUrl?((0,i.wg)(),(0,i.iD)("img",{key:0,src:t.imageUrl,alt:t.title},null,8,C)):(0,i.kq)("",!0)],8,O)])])]),(0,i._)("div",M,[(0,i._)("h6",null,(0,l.zw)(t.title_zh||t.title),1),(0,i._)("p",S,(0,l.zw)(t.artist+","+t.year)+"年",1)])])))),128))])):((0,i.wg)(),(0,i.iD)("div",T,"em....世界名画被偷走了，追踪中...")),K.totalPages>1?((0,i.wg)(),(0,i.iD)("nav",U,[(0,i._)("ul",j,[(0,i._)("li",null,[(0,i._)("a",{class:(0,l.C_)(["pagination-link",{"is-current":1===A.currentPage}]),onClick:e[5]||(e[5]=t=>K.changePage(1)),"aria-label":"Goto page 1"},"1",2)]),A.currentPage>3?((0,i.wg)(),(0,i.iD)("li",Y,q)):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(K.pagesToShow,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t},[(0,i._)("a",{class:(0,l.C_)(["pagination-link",{"is-current":t===A.currentPage}]),onClick:e=>K.changePage(t),"aria-label":"Goto page "+t},(0,l.zw)(t),11,z)])))),128)),A.currentPage<K.totalPages-2?((0,i.wg)(),(0,i.iD)("li",E,H)):(0,i.kq)("",!0),K.totalPages>1?((0,i.wg)(),(0,i.iD)("li",L,[(0,i._)("a",{class:(0,l.C_)(["pagination-link",{"is-current":A.currentPage===K.totalPages}]),onClick:e[6]||(e[6]=t=>K.changePage(K.totalPages)),"aria-label":"Goto page "+K.totalPages},(0,l.zw)(K.totalPages),11,V)])):(0,i.kq)("",!0)])])):(0,i.kq)("",!0)])}a(560);var W=a(1076),Z=a(4731),I={name:"MyComponent",data(){return{allData:[],dataContent:[],dataLoaded:!1,currentPage:1,itemsPerPage:20,yearOptions:[],selectedYear:"",selectedArtist:"",searchText:""}},computed:{totalPages(){return Math.ceil(this.dataContent.length/this.itemsPerPage)},pagesToShow(){let t=[],e=Math.max(this.currentPage-2,2),a=Math.min(e+4,this.totalPages-1);1===this.currentPage&&(e=2,a=Math.min(6,this.totalPages-1)),this.currentPage===this.totalPages&&(a=this.totalPages-1,e=Math.max(this.totalPages-5,2));for(let n=e;n<=a;n++)t.push(n);return t},paginatedData(){const t=(this.currentPage-1)*this.itemsPerPage;return this.dataContent.slice(t,t+this.itemsPerPage)}},methods:{filterData(){this.dataContent=this.allData.filter((t=>(t.title,(""===this.selectedYear||t.year===this.selectedYear)&&(""===this.selectedArtist||t.artist===this.selectedArtist)&&(!this.searchText||String(t.title).toLowerCase().includes(this.searchText.toLowerCase())))))},getUniqueYears(t){const e=new Set;return t.forEach((t=>{t.year&&e.add(t.year)})),Array.from(e)},handleEnter(){this.filterData()},changePage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t)},shuffleArray(t){for(let e=t.length-1;e>0;e--){const a=Math.floor(Math.random()*(e+1));[t[e],t[a]]=[t[a],t[e]]}return t}},created(){W.Z.get("translated_data.json").then((t=>{const e=this.shuffleArray(t.data),a=e.map((t=>(t.imageUrl&&(t.imageUrl=t.imageUrl.replace(/100px(?=[^/]*$)/,"200px"),t.bigImageUrl=t.imageUrl.replace(/(100px|150px|200px)(?=[^/]*$)/,"1000px")),t)));this.allData=a,console.log(a),this.filterData(),this.dataLoaded=!0;const n=new Set,i=new Set;this.allData.forEach((t=>{t.year&&n.add(t.year),t.artist&&i.add(t.artist)})),this.yearOptions=n,this.artistOptions=i,Z.KR.bind("[data-fancybox]",{Thumbs:{showOnStart:!1}}),Z.KR.Thumbs=!1})).catch((t=>{console.error("Error reading the JSON file",t)}))}},N=a(89);const R=(0,N.Z)(I,[["render",G]]);var $=R,F={name:"App",components:{HelloWorld:$}};const J=(0,N.Z)(F,[["render",r]]);var B=J;document.title="塔克鼠美术馆",(0,n.ri)(B).mount("#app")}},e={};function a(n){var i=e[n];if(void 0!==i)return i.exports;var r=e[n]={exports:{}};return t[n].call(r.exports,r,r.exports,a),r.exports}a.m=t,function(){var t=[];a.O=function(e,n,i,r){if(!n){var l=1/0;for(u=0;u<t.length;u++){n=t[u][0],i=t[u][1],r=t[u][2];for(var s=!0,o=0;o<n.length;o++)(!1&r||l>=r)&&Object.keys(a.O).every((function(t){return a.O[t](n[o])}))?n.splice(o--,1):(s=!1,r<l&&(l=r));if(s){t.splice(u--,1);var c=i();void 0!==c&&(e=c)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[n,i,r]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var i,r,l=n[0],s=n[1],o=n[2],c=0;if(l.some((function(e){return 0!==t[e]}))){for(i in s)a.o(s,i)&&(a.m[i]=s[i]);if(o)var u=o(a)}for(e&&e(n);c<l.length;c++)r=l[c],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(u)},n=self["webpackChunktakeshu"]=self["webpackChunktakeshu"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(2222)}));n=a.O(n)})();
//# sourceMappingURL=app.c1d52ae2.js.map