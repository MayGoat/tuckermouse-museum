(function(){"use strict";var e={786:function(e,t,a){var n=a(9242),i=a(3396);function r(e,t,a,n,r,l){const o=(0,i.up)("HelloWorld");return(0,i.wg)(),(0,i.j4)(o,{msg:"Welcome to Your Vue.js App"})}var l=a(7139);const o={class:"content-wrapper"},s=(0,i._)("section",{class:"hero is-small"},[(0,i._)("div",{class:"hero-body"},[(0,i._)("p",{class:"title"}," List of works by Vincent van Gogh ")])],-1),c=(0,i._)("h1",null,null,-1),u={class:"field has-addons column is-half is-offset-one-quarter"},g={class:"control"},d={class:"select"},h=(0,i._)("option",{value:""},"时间",-1),p=["value"],f={class:"control is-expanded"},m={class:"control"},v={key:0,class:"columns is-multiline is-variable is-6"},y={class:"card"},b={class:"card-image"},P={class:"image"},w=["href","data-caption"],_=["src","alt"],k={class:"content align-bottom"},D={class:"subtitle is-6"},x={key:1},O={key:2,class:"pagination is-rounded column is-half is-offset-one-quarter",role:"navigation","aria-label":"pagination"},C={class:"pagination-list"},T={key:0},j=(0,i._)("span",{class:"pagination-ellipsis"},"…",-1),S=[j],Y=["onClick","aria-label"],M={key:1},U=(0,i._)("span",{class:"pagination-ellipsis"},"…",-1),q=[U],E={key:2},K=["aria-label"];function L(e,t,a,r,j,U){return(0,i.wg)(),(0,i.iD)("div",o,[s,c,(0,i._)("div",u,[(0,i._)("div",g,[(0,i._)("div",d,[(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>j.selectedYear=e)},[h,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(j.yearOptions,(e=>((0,i.wg)(),(0,i.iD)("option",{key:e,value:e},(0,l.zw)(e)+"年",9,p)))),128))],512),[[n.bM,j.selectedYear]])])]),(0,i._)("div",f,[(0,i.wy)((0,i._)("input",{class:"input",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>j.searchText=e),onKeyup:t[2]||(t[2]=(0,n.D2)(((...e)=>U.handleEnter&&U.handleEnter(...e)),["enter"])),placeholder:"作品关键词"},null,544),[[n.nr,j.searchText]])]),(0,i._)("div",m,[(0,i._)("button",{class:"button is-info",onClick:t[3]||(t[3]=(...e)=>U.filterData&&U.filterData(...e))},"搜索")])]),j.dataLoaded?((0,i.wg)(),(0,i.iD)("div",v,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(U.paginatedData,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.catNo,class:"column is-6-mobile is-4-tablet is-3-desktop"},[(0,i._)("div",y,[(0,i._)("div",b,[(0,i._)("figure",P,[(0,i._)("a",{href:e.bigImageUrl,"data-fancybox":"gallery","data-caption":e.title},[e.imageUrl?((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.imageUrl,alt:e.title},null,8,_)):(0,i.kq)("",!0)],8,w)])])]),(0,i._)("div",k,[(0,i._)("h5",null,(0,l.zw)(e.title),1),(0,i._)("p",D,(0,l.zw)(e.year)+"年",1)])])))),128))])):((0,i.wg)(),(0,i.iD)("div",x,"em....世界名画被偷走了，追踪中...")),U.totalPages>1?((0,i.wg)(),(0,i.iD)("nav",O,[(0,i._)("ul",C,[(0,i._)("li",null,[(0,i._)("a",{class:(0,l.C_)(["pagination-link",{"is-current":1===j.currentPage}]),onClick:t[4]||(t[4]=e=>U.changePage(1)),"aria-label":"Goto page 1"},"1",2)]),j.currentPage>3?((0,i.wg)(),(0,i.iD)("li",T,S)):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(U.pagesToShow,(e=>((0,i.wg)(),(0,i.iD)("li",{key:e},[(0,i._)("a",{class:(0,l.C_)(["pagination-link",{"is-current":e===j.currentPage}]),onClick:t=>U.changePage(e),"aria-label":"Goto page "+e},(0,l.zw)(e),11,Y)])))),128)),j.currentPage<U.totalPages-2?((0,i.wg)(),(0,i.iD)("li",M,q)):(0,i.kq)("",!0),U.totalPages>1?((0,i.wg)(),(0,i.iD)("li",E,[(0,i._)("a",{class:(0,l.C_)(["pagination-link",{"is-current":j.currentPage===U.totalPages}]),onClick:t[5]||(t[5]=e=>U.changePage(U.totalPages)),"aria-label":"Goto page "+U.totalPages},(0,l.zw)(U.totalPages),11,K)])):(0,i.kq)("",!0)])])):(0,i.kq)("",!0)])}a(560);var z=a(1076),H=a(4731),G={name:"MyComponent",data(){return{allData:[],dataContent:[],dataLoaded:!1,currentPage:1,itemsPerPage:20,yearOptions:[],selectedYear:"",searchText:""}},computed:{totalPages(){return Math.ceil(this.allData.length/this.itemsPerPage)},pagesToShow(){let e=[],t=Math.max(this.currentPage-2,2),a=Math.min(t+4,this.totalPages-1);1===this.currentPage&&(t=2,a=Math.min(6,this.totalPages-1)),this.currentPage===this.totalPages&&(a=this.totalPages-1,t=Math.max(this.totalPages-5,2));for(let n=t;n<=a;n++)e.push(n);return e},paginatedData(){const e=(this.currentPage-1)*this.itemsPerPage;return this.dataContent.slice(e,e+this.itemsPerPage)}},methods:{filterData(){this.dataContent=this.allData.filter((e=>(e.title,(""===this.selectedYear||e.year===this.selectedYear)&&(!this.searchText||String(e.title).toLowerCase().includes(this.searchText.toLowerCase())))))},getUniqueYears(e){const t=new Set;return e.forEach((e=>{e.year&&t.add(e.year)})),Array.from(t)},handleEnter(){this.filterData()},changePage(e){e>=1&&e<=this.totalPages&&(this.currentPage=e)}},created(){z.Z.get("artworks.json").then((e=>{const t=e.data.map((e=>(e.imageUrl&&(e.bigImageUrl=e.imageUrl.replace(/200px(?=[^/]*$)/,"1500px")),e)));this.allData=t,console.log(t),this.filterData(),this.dataLoaded=!0,this.yearOptions=this.getUniqueYears(this.allData),H.KR.bind("[data-fancybox]",{Thumbs:{showOnStart:!1}}),H.KR.Thumbs=!1})).catch((e=>{console.error("Error reading the JSON file",e)}))}},V=a(89);const A=(0,V.Z)(G,[["render",L]]);var W=A,Z={name:"App",components:{HelloWorld:W}};const I=(0,V.Z)(Z,[["render",r]]);var N=I;document.title="塔克鼠美术馆",(0,n.ri)(N).mount("#app")}},t={};function a(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,n,i,r){if(!n){var l=1/0;for(u=0;u<e.length;u++){n=e[u][0],i=e[u][1],r=e[u][2];for(var o=!0,s=0;s<n.length;s++)(!1&r||l>=r)&&Object.keys(a.O).every((function(e){return a.O[e](n[s])}))?n.splice(s--,1):(o=!1,r<l&&(l=r));if(o){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,i,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,r,l=n[0],o=n[1],s=n[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(i in o)a.o(o,i)&&(a.m[i]=o[i]);if(s)var u=s(a)}for(t&&t(n);c<l.length;c++)r=l[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(u)},n=self["webpackChunktakeshu"]=self["webpackChunktakeshu"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(786)}));n=a.O(n)})();
//# sourceMappingURL=app.e3e7707f.js.map