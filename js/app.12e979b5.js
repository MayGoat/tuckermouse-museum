(function(){"use strict";var e={6292:function(e,t,a){var n=a(9242),i=a(3396);function r(e,t,a,n,r,l){const s=(0,i.up)("HelloWorld");return(0,i.wg)(),(0,i.j4)(s,{msg:"Welcome to Your Vue.js App"})}var l=a(7139);const s={class:"content-wrapper"},o=(0,i._)("section",{class:"hero is-small"},[(0,i._)("div",{class:"hero-body"},[(0,i._)("p",{class:"title"},"塔克鼠美术馆")])],-1),c=(0,i._)("h1",null,null,-1),u={class:"field has-addons column is-half is-offset-one-quarter"},g={class:"control"},d={class:"select"},h=(0,i._)("option",{value:""},"时间",-1),p=["value"],f={class:"control"},m={class:"select"},v=(0,i._)("option",{value:""},"艺术家",-1),b=(0,i._)("option",{value:"Vincent van Gogh"},"梵高",-1),y=(0,i._)("option",{value:"Vermeer"},"维米尔",-1),_=[v,b,y],P={class:"control is-expanded"},w={class:"control"},k={key:0,class:"columns is-multiline is-variable is-6"},D={class:"card"},x={class:"card-image"},O={class:"image"},C=["href","data-caption"],T=["src","alt"],j={class:"content align-bottom"},M={class:"subtitle is-6"},S={key:1},U={key:2,class:"pagination is-rounded column is-half is-offset-one-quarter",role:"navigation","aria-label":"pagination"},Y={class:"pagination-list"},q={key:0},A=(0,i._)("span",{class:"pagination-ellipsis"},"…",-1),z=[A],E=["onClick","aria-label"],K={key:1},V=(0,i._)("span",{class:"pagination-ellipsis"},"…",-1),H=[V],L={key:2},G=["aria-label"];function W(e,t,a,r,v,b){return(0,i.wg)(),(0,i.iD)("div",s,[o,c,(0,i._)("div",u,[(0,i._)("div",g,[(0,i._)("div",d,[(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>v.selectedYear=e)},[h,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(v.yearOptions,(e=>((0,i.wg)(),(0,i.iD)("option",{key:e,value:e},(0,l.zw)(e)+"年",9,p)))),128))],512),[[n.bM,v.selectedYear]])])]),(0,i._)("div",f,[(0,i._)("div",m,[(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>v.selectedArtist=e)},_,512),[[n.bM,v.selectedArtist]])])]),(0,i._)("div",P,[(0,i.wy)((0,i._)("input",{class:"input",type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>v.searchText=e),onKeyup:t[3]||(t[3]=(0,n.D2)(((...e)=>b.handleEnter&&b.handleEnter(...e)),["enter"])),placeholder:"作品关键词"},null,544),[[n.nr,v.searchText]])]),(0,i._)("div",w,[(0,i._)("button",{class:"button is-info",onClick:t[4]||(t[4]=(...e)=>b.filterData&&b.filterData(...e))},"搜索")])]),v.dataLoaded?((0,i.wg)(),(0,i.iD)("div",k,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(b.paginatedData,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.catNo,class:"column is-6-mobile is-4-tablet is-3-desktop"},[(0,i._)("div",D,[(0,i._)("div",x,[(0,i._)("figure",O,[(0,i._)("a",{href:e.bigImageUrl,"data-fancybox":"gallery","data-caption":e.title+"<br>"+e.dimension+"<br>"+e.location},[e.imageUrl?((0,i.wg)(),(0,i.iD)("img",{key:0,src:e.imageUrl,alt:e.title},null,8,T)):(0,i.kq)("",!0)],8,C)])])]),(0,i._)("div",j,[(0,i._)("h6",null,(0,l.zw)(e.title_zh||e.title),1),(0,i._)("p",M,(0,l.zw)(e.year)+"年",1)])])))),128))])):((0,i.wg)(),(0,i.iD)("div",S,"em....世界名画被偷走了，追踪中...")),b.totalPages>1?((0,i.wg)(),(0,i.iD)("nav",U,[(0,i._)("ul",Y,[(0,i._)("li",null,[(0,i._)("a",{class:(0,l.C_)(["pagination-link",{"is-current":1===v.currentPage}]),onClick:t[5]||(t[5]=e=>b.changePage(1)),"aria-label":"Goto page 1"},"1",2)]),v.currentPage>3?((0,i.wg)(),(0,i.iD)("li",q,z)):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(b.pagesToShow,(e=>((0,i.wg)(),(0,i.iD)("li",{key:e},[(0,i._)("a",{class:(0,l.C_)(["pagination-link",{"is-current":e===v.currentPage}]),onClick:t=>b.changePage(e),"aria-label":"Goto page "+e},(0,l.zw)(e),11,E)])))),128)),v.currentPage<b.totalPages-2?((0,i.wg)(),(0,i.iD)("li",K,H)):(0,i.kq)("",!0),b.totalPages>1?((0,i.wg)(),(0,i.iD)("li",L,[(0,i._)("a",{class:(0,l.C_)(["pagination-link",{"is-current":v.currentPage===b.totalPages}]),onClick:t[6]||(t[6]=e=>b.changePage(b.totalPages)),"aria-label":"Goto page "+b.totalPages},(0,l.zw)(b.totalPages),11,G)])):(0,i.kq)("",!0)])])):(0,i.kq)("",!0)])}a(560);var Z=a(1076),I=a(4731),N={name:"MyComponent",data(){return{allData:[],dataContent:[],dataLoaded:!1,currentPage:1,itemsPerPage:20,yearOptions:[],selectedYear:"",selectedArtist:"",searchText:""}},computed:{totalPages(){return Math.ceil(this.allData.length/this.itemsPerPage)},pagesToShow(){let e=[],t=Math.max(this.currentPage-2,2),a=Math.min(t+4,this.totalPages-1);1===this.currentPage&&(t=2,a=Math.min(6,this.totalPages-1)),this.currentPage===this.totalPages&&(a=this.totalPages-1,t=Math.max(this.totalPages-5,2));for(let n=t;n<=a;n++)e.push(n);return e},paginatedData(){const e=(this.currentPage-1)*this.itemsPerPage;return this.dataContent.slice(e,e+this.itemsPerPage)}},methods:{filterData(){this.dataContent=this.allData.filter((e=>(e.title,(""===this.selectedYear||e.year===this.selectedYear)&&(""===this.selectedArtist||e.artist===this.selectedArtist)&&(!this.searchText||String(e.title).toLowerCase().includes(this.searchText.toLowerCase())))))},getUniqueYears(e){const t=new Set;return e.forEach((e=>{e.year&&t.add(e.year)})),Array.from(t)},handleEnter(){this.filterData()},changePage(e){e>=1&&e<=this.totalPages&&(this.currentPage=e)}},created(){Z.Z.get("translated_data.json").then((e=>{const t=e.data.map((e=>(e.imageUrl&&(e.bigImageUrl=e.imageUrl.replace(/200px(?=[^/]*$)/,"1500px")),e)));this.allData=t,console.log(t),this.filterData(),this.dataLoaded=!0,this.yearOptions=this.getUniqueYears(this.allData),I.KR.bind("[data-fancybox]",{Thumbs:{showOnStart:!1}}),I.KR.Thumbs=!1})).catch((e=>{console.error("Error reading the JSON file",e)}))}},R=a(89);const F=(0,R.Z)(N,[["render",W]]);var J=F,$={name:"App",components:{HelloWorld:J}};const B=(0,R.Z)($,[["render",r]]);var Q=B;document.title="塔克鼠美术馆",(0,n.ri)(Q).mount("#app")}},t={};function a(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,n,i,r){if(!n){var l=1/0;for(u=0;u<e.length;u++){n=e[u][0],i=e[u][1],r=e[u][2];for(var s=!0,o=0;o<n.length;o++)(!1&r||l>=r)&&Object.keys(a.O).every((function(e){return a.O[e](n[o])}))?n.splice(o--,1):(s=!1,r<l&&(l=r));if(s){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,i,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,r,l=n[0],s=n[1],o=n[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(i in s)a.o(s,i)&&(a.m[i]=s[i]);if(o)var u=o(a)}for(t&&t(n);c<l.length;c++)r=l[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(u)},n=self["webpackChunktakeshu"]=self["webpackChunktakeshu"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(6292)}));n=a.O(n)})();
//# sourceMappingURL=app.12e979b5.js.map